–ö—Ä—É—Ç–æ, —á—Ç–æ –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å! üòé –°–ª–µ–¥—É—é—â–∏–π –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π –ª–æ–≥–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å, ‚Äî —ç—Ç–æ **`person-identification/`**, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è –≤–∞—à–µ–π –∑–∞–¥–∞—á–∏: –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã AI —É—á–∏—Ç—ã–≤–∞–ª –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ª—é–¥–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, "—á–∞—â–µ –¥–æ–±–∞–≤–ª—è–π –î–∂–æ–Ω–∞") –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è –∏ –ø–ª–∞–Ω–∞ –º–æ–Ω—Ç–∞–∂–∞. –≠—Ç–æ—Ç –º–æ–¥—É–ª—å –ø–æ–∑–≤–æ–ª–∏—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏ –∏–º–µ–Ω–æ–≤–∞—Ç—å –ª—é–¥–µ–π –≤ –≤–∏–¥–µ–æ —Å –ø–æ–º–æ—â—å—é YOLOv11 (–∏–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏ –¥–ª—è –ª–∏—Ü, –Ω–∞–ø—Ä–∏–º–µ—Ä, FaceNet), —Å–≤—è–∑—ã–≤–∞—Ç—å –∏—Ö —Å —Å—É–±—Ç–∏—Ç—Ä–∞–º–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å `script-generator/` –∏ `montage-planner/`. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç —Ç–æ—á–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –∏ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö/–º–æ–Ω—Ç–∞–∂–µ, —á—Ç–æ –≤—ã —É–ø–æ–º—è–Ω—É–ª–∏ —Ä–∞–Ω–µ–µ.

### –ü–æ—á–µ–º—É `person-identification/` —Å–ª–µ–¥—É—é—â–∏–π?
1. **–ö–ª—é—á–µ–≤–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å**: –í–∞—à–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤—Ä–æ–¥–µ "—á–∞—â–µ –¥–æ–±–∞–≤–ª—è–π –î–∂–æ–Ω–∞" —Ç—Ä–µ–±—É—é—Ç, —á—Ç–æ–±—ã —Å–∏—Å—Ç–µ–º–∞ –∑–Ω–∞–ª–∞, –∫—Ç–æ –µ—Å—Ç—å –∫—Ç–æ –≤ –≤–∏–¥–µ–æ. –ë–µ–∑ —ç—Ç–æ–≥–æ `script-generator/` –∏ `montage-planner/` –Ω–µ —Å–º–æ–≥—É—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –ø–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º.
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å YOLOv11**: –í—ã —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ YOLOv11 –≤ Rust, –∏ —ç—Ç–æ—Ç –º–æ–¥—É–ª—å –ø–æ–∑–≤–æ–ª–∏—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ª–∏—Ü/–ª—é–¥–µ–π, —á—Ç–æ –¥–æ–ø–æ–ª–Ω–∏—Ç –∞–Ω–∞–ª–∏–∑ –æ–±—ä–µ–∫—Ç–æ–≤.
3. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å—É–±—Ç–∏—Ç—Ä–∞–º–∏**: –ú–æ–¥—É–ª—å —Å–≤—è–∂–µ—Ç –∏–º–µ–Ω–∞ –ª—é–¥–µ–π —Å —Å—É–±—Ç–∏—Ç—Ä–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º —Ñ—Ä–∞–≥–º–µ–Ω—Ç–µ), —á—Ç–æ —É–ª—É—á—à–∏—Ç —Ç–æ—á–Ω–æ—Å—Ç—å `montage-planner/`.
4. **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Å—Ç–µ–∫–∞**: –° `ffmpeg-rs` –¥–ª—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –∏ YOLOv11 –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —É –≤–∞—Å –µ—Å—Ç—å –≤—Å—ë, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å.

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è `person-identification/`
- **–¶–µ–ª—å**: –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å –ª—é–¥–µ–π –≤ –≤–∏–¥–µ–æ (—Å –ø–æ–º–æ—â—å—é YOLOv11 –∏–ª–∏ FaceNet), –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å –∏–º –∏–º–µ–Ω–∞ (–≤—Ä—É—á–Ω—É—é –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏), —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ SQLite –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –∏—Ö –¥–ª—è `script-generator/` –∏ `montage-planner/`.
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**:
  - React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã—Ö –ª–∏—Ü –∏ –≤–≤–æ–¥–∞ –∏–º–µ–Ω.
  - XState-–º–∞—à–∏–Ω–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–º (—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ, –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ).
  - –•—É–∫ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –º–∞—à–∏–Ω–æ–π –∏ –≤—ã–∑–æ–≤–∞ Tauri-–∫–æ–º–∞–Ω–¥.
- **–ë—ç–∫–µ–Ω–¥**:
  - Rust-–º–æ–¥—É–ª—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ —Å YOLOv11 (–∏–ª–∏ FaceNet) –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –ª—é–¥—è—Ö.
  - Tauri-–∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥.
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**:
  - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ª–∏—Ü —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —á–µ—Ä–µ–∑ `tauri-plugin-websocket`.
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ SQLite (`resources/`) –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

### –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
–°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–ª–∂–Ω—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å:
- –î–∞–Ω–Ω—ã–µ –æ –ª—é–¥—è—Ö (ID, –∏–º—è, —Ç–∞–π–º–∫–æ–¥—ã, —Å–∫—Ä–∏–Ω—à–æ—Ç—ã).
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å `montage-planner/` –∏ `script-generator/`.
- –°–≤—è–∑—å —Å —Å—É–±—Ç–∏—Ç—Ä–∞–º–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ø–∏–∫–µ—Ä–æ–≤.

#### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (JSON/TS)
```typescript
// src/features/person-identification/types.ts
export interface Person {
  id: string; // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (UUID)
  name: string; // –ò–º—è —á–µ–ª–æ–≤–µ–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "John")
  thumbnailPath: string; // –ü—É—Ç—å –∫ —Å–∫—Ä–∏–Ω—à–æ—Ç—É –ª–∏—Ü–∞
  timestamps: { startTime: number; endTime: number }[]; // –¢–∞–π–º–∫–æ–¥—ã –ø–æ—è–≤–ª–µ–Ω–∏—è –≤ –≤–∏–¥–µ–æ
  subtitleIds: string[]; // ID —Å—É–±—Ç–∏—Ç—Ä–æ–≤, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —á–µ–ª–æ–≤–µ–∫–æ–º
}

export interface PersonIdentificationResult {
  people: Person[]; // –°–ø–∏—Å–æ–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã—Ö –ª—é–¥–µ–π
}
```

- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
  - `Person` —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ –ª—é–¥—è—Ö, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ `montage-planner/` –∏ `script-generator/`.
  - `thumbnailPath` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ UI –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è.
  - `subtitleIds` —Å–≤—è–∑—ã–≤–∞–µ—Ç –ª—é–¥–µ–π —Å —Å—É–±—Ç–∏—Ç—Ä–∞–º–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤.

#### 2. XState Context
–ö–æ–Ω—Ç–µ–∫—Å—Ç –º–∞—à–∏–Ω—ã —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ –ª—é–¥—è—Ö, –ø—Ä–æ–≥—Ä–µ—Å—Å –∞–Ω–∞–ª–∏–∑–∞ –∏ –æ—à–∏–±–∫–∏.

```typescript
// src/features/person-identification/machine.ts
import { createMachine } from 'xstate';
import { Person } from './types';

interface PersonIdentificationContext {
  videoIds: string[]; // ID –≤–∏–¥–µ–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
  people: Person[]; // –†–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–µ –ª—é–¥–∏
  progress: number; // –ü—Ä–æ–≥—Ä–µ—Å—Å –∞–Ω–∞–ª–∏–∑–∞ (0-100%)
  error: string | null; // –û—à–∏–±–∫–∞
  isAnalyzing: boolean; // –°—Ç–∞—Ç—É—Å –∞–Ω–∞–ª–∏–∑–∞
}

type PersonIdentificationEvent =
  | { type: 'ADD_VIDEO'; videoId: string }
  | { type: 'UPDATE_PERSON'; personId: string; name: string }
  | { type: 'START_ANALYSIS' }
  | { type: 'UPDATE_PROGRESS'; progress: number }
  | { type: 'PEOPLE_IDENTIFIED'; people: Person[] }
  | { type: 'ERROR'; message: string };
```

#### 3. –ë—ç–∫–µ–Ω–¥ (Rust)
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –±—ç–∫–µ–Ω–¥–∞ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –ª—é–¥—è—Ö.

```rust
// src-tauri/src/person_identification.rs
use serde::{Serialize, Deserialize};
use uuid::Uuid;

#[derive(Serialize, Deserialize)]
pub struct Person {
    pub id: String,
    pub name: String,
    pub thumbnail_path: String,
    pub timestamps: Vec<Timestamp>,
    pub subtitle_ids: Vec<String>,
}

#[derive(Serialize, Deserialize)]
pub struct Timestamp {
    pub start_time: f64,
    pub end_time: f64,
}

#[derive(Serialize, Deserialize)]
pub struct PersonIdentificationResult {
    pub people: Vec<Person>,
}
```

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `person-identification/`

#### –§—Ä–æ–Ω—Ç–µ–Ω–¥
1. **–¢–∏–ø—ã (`src/features/person-identification/types.ts`)**:
   –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤—ã—à–µ (`Person`, `PersonIdentificationResult`).

2. **XState-–º–∞—à–∏–Ω–∞ (`src/features/person-identification/machine.ts`)**:
   –£–ø—Ä–∞–≤–ª—è–µ—Ç –∞–Ω–∞–ª–∏–∑–æ–º –∏ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ–º –ª—é–¥–µ–π.

```typescript
import { createMachine, assign } from 'xstate';
import { Person } from './types';

interface PersonIdentificationContext {
  videoIds: string[];
  people: Person[];
  progress: number;
  error: string | null;
  isAnalyzing: boolean;
}

type PersonIdentificationEvent =
  | { type: 'ADD_VIDEO'; videoId: string }
  | { type: 'UPDATE_PERSON'; personId: string; name: string }
  | { type: 'START_ANALYSIS' }
  | { type: 'UPDATE_PROGRESS'; progress: number }
  | { type: 'PEOPLE_IDENTIFIED'; people: Person[] }
  | { type: 'ERROR'; message: string };

export const personIdentificationMachine = createMachine<PersonIdentificationContext, PersonIdentificationEvent>({
  id: 'personIdentification',
  initial: 'idle',
  context: {
    videoIds: [],
    people: [],
    progress: 0,
    error: null,
    isAnalyzing: false,
  },
  states: {
    idle: {
      on: {
        ADD_VIDEO: {
          actions: assign({
            videoIds: (ctx, event) => [...ctx.videoIds, event.videoId],
          }),
          target: 'analyzing',
        },
        UPDATE_PERSON: {
          actions: assign({
            people: (ctx, event) =>
              ctx.people.map((p) =>
                p.id === event.personId ? { ...p, name: event.name } : p
              ),
          }),
        },
      },
    },
    analyzing: {
      entry: assign({ isAnalyzing: true }),
      invoke: {
        src: 'identifyPeople',
        onDone: {
          target: 'idle',
          actions: assign({
            people: (_, event) => event.data,
            isAnalyzing: false,
            progress: 100,
          }),
        },
        onError: {
          target: 'error',
          actions: assign({
            error: (_, event) => event.data.message,
            isAnalyzing: false,
          }),
        },
      },
      on: {
        UPDATE_PROGRESS: {
          actions: assign({ progress: (_, event) => event.progress }),
        },
      },
    },
    error: {
      on: {
        ADD_VIDEO: {
          target: 'analyzing',
          actions: assign({
            videoIds: (ctx, event) => [...ctx.videoIds, event.videoId],
            error: null,
          }),
        },
        UPDATE_PERSON: {
          actions: assign({
            people: (ctx, event) =>
              ctx.people.map((p) =>
                p.id === event.personId ? { ...p, name: event.name } : p
              ),
          }),
        },
      },
    },
  },
});
```

3. **–ü—Ä–æ–≤–∞–π–¥–µ—Ä (`src/features/person-identification/PersonIdentificationProvider.tsx`)**:
   –û–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–∞—à–∏–Ω—É.

```typescript
import React from 'react';
import { useMachine } from '@xstate/react';
import { personIdentificationMachine } from './machine';
import { PersonIdentificationResult } from './types';
import { invoke } from '@tauri-apps/api/tauri';
import { listen } from '@tauri-apps/api/event';

interface PersonIdentificationProviderProps {
  children: React.ReactNode;
}

export const PersonIdentificationContext = React.createContext<any>(null);

export const PersonIdentificationProvider: React.FC<PersonIdentificationProviderProps> = ({ children }) => {
  const [state, send] = useMachine(personIdentificationMachine, {
    services: {
      identifyPeople: async (context) => {
        try {
          const result: PersonIdentificationResult = await invoke('identify_people', {
            videoIds: context.videoIds,
          });
          send({ type: 'PEOPLE_IDENTIFIED', people: result.people });
          return result.people;
        } catch (error) {
          send({ type: 'ERROR', message: error.message });
          throw error;
        }
      },
    },
  });

  // –°–ª—É—à–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –∞–Ω–∞–ª–∏–∑–∞
  React.useEffect(() => {
    const unsubscribe = listen('identification_progress', (event: { payload: number }) => {
      send({ type: 'UPDATE_PROGRESS', progress: event.payload });
    });
    return () => unsubscribe.then((f) => f());
  }, [send]);

  return (
    <PersonIdentificationContext.Provider value={{ state, send }}>
      {children}
    </PersonIdentificationContext.Provider>
  );
};
```

4. **–•—É–∫ (`src/features/person-identification/usePersonIdentification.ts`)**:
   –£–ø—Ä–æ—â–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –º–∞—à–∏–Ω–µ.

```typescript
import { useContext } from 'react';
import { PersonIdentificationContext } from './PersonIdentificationProvider';

export const usePersonIdentification = () => {
  const { state, send } = useContext(PersonIdentificationContext);

  const addVideo = (videoId: string) => {
    send({ type: 'ADD_VIDEO', videoId });
  };

  const updatePerson = (personId: string, name: string) => {
    send({ type: 'UPDATE_PERSON', personId, name });
  };

  return {
    videoIds: state.context.videoIds,
    people: state.context.people,
    progress: state.context.progress,
    error: state.context.error,
    isAnalyzing: state.context.isAnalyzing,
    addVideo,
    updatePerson,
  };
};
```

5. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç (`src/features/person-identification/PersonIdentification.tsx`)**:
   UI –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã—Ö –ª–∏—Ü –∏ –≤–≤–æ–¥–∞ –∏–º–µ–Ω.

```typescript
import React from 'react';
import { usePersonIdentification } from './usePersonIdentification';

export const PersonIdentification: React.FC = () => {
  const { people, progress, error, isAnalyzing, updatePerson } = usePersonIdentification();

  return (
    <div className="p-4">
      <h2 className="text-xl">–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ª—é–¥–µ–π</h2>
      {isAnalyzing && <p>–ü—Ä–æ–≥—Ä–µ—Å—Å: {progress}%</p>}
      {error && <p className="text-red-500">{error}</p>}
      <div className="mt-4">
        {people.map((person) => (
          <div key={person.id} className="border p-2 my-2 flex items-center">
            <img src={person.thumbnailPath} alt="Face" className="w-16 h-16 mr-4" />
            <input
              type="text"
              value={person.name}
              onChange={(e) => updatePerson(person.id, e.target.value)}
              placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è"
              className="p-2 border rounded"
            />
            <p className="ml-4">
              <strong>–í—Ä–µ–º—è:</strong>{' '}
              {person.timestamps.map((t) => `${t.startTime}s - ${t.endTime}s`).join(', ')}
            </p>
          </div>
        ))}
      </div>
    </div>
  );
};
```

#### –ë—ç–∫–µ–Ω–¥
1. **Tauri-–∫–æ–º–∞–Ω–¥–∞ (`src-tauri/src/person_identification.rs`)**:
   –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç—ã —Å –ø–æ–º–æ—â—å—é YOLOv11 –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –ª—é–¥—è—Ö.

```rust
use tauri::command;
use tauri::Manager;
use ffmpeg::format::{input, Pixel};
use ffmpeg::util::frame::video::Video;
use onnxruntime::{environment::Environment, session::Session};
use serde::{Serialize, Deserialize};
use uuid::Uuid;
use std::path::Path;

#[derive(Serialize, Deserialize)]
pub struct Person {
    pub id: String,
    pub name: String,
    pub thumbnail_path: String,
    pub timestamps: Vec<Timestamp>,
    pub subtitle_ids: Vec<String>,
}

#[derive(Serialize, Deserialize)]
pub struct Timestamp {
    pub start_time: f64,
    pub end_time: f64,
}

#[derive(Serialize, Deserialize)]
pub struct PersonIdentificationResult {
    pub people: Vec<Person>,
}

#[command]
pub async fn identify_people(app_handle: tauri::AppHandle, video_ids: Vec<String>) -> Result<PersonIdentificationResult, String> {
    let mut people = vec![];

    for (index, video_id) in video_ids.iter().enumerate() {
        let video_path = format!("path/to/video/{}.mp4", video_id);
        let mut ictx = input(&video_path).map_err(|e| format!("FFmpeg error: {}", e))?;
        let video_stream = ictx
            .streams()
            .best(ffmpeg::media::Type::Video)
            .ok_or("No video stream")?;
        let mut decoder = video_stream.codec().decoder().video().map_err(|e| format!("Decoder error: {}", e))?;
        let mut frame_count = 0;

        // YOLOv11: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥–µ–ª–∏
        let env = Environment::builder().build().map_err(|e| format!("ONNX error: {}", e))?;
        let mut session = env
            .new_session_builder()?
            .with_model_from_file("yolov11.onnx")?;

        for (stream, packet) in ictx.packets() {
            if stream.index() == video_stream.index() {
                decoder.send_packet(&packet).map_err(|e| format!("Send packet error: {}", e))?;
                let mut frame = Video::empty();
                if decoder.receive_frame(&mut frame).is_ok() {
                    frame_count += 1;
                    if frame_count % 30 == 0 { // –ê–Ω–∞–ª–∏–∑ –∫–∞–∂–¥—ã–µ 30 –∫–∞–¥—Ä–æ–≤
                        let timestamp = frame_count as f64 / video_stream.avg_frame_rate().unwrap_or(30.0);
                        let thumbnail_path = format!("thumbnails/{}_{}.jpg", video_id, frame_count);

                        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞
                        let mut encoder = ffmpeg::codec::encoder::find(ffmpeg::codec::Id::JPEG)
                            .unwrap()
                            .encoder()
                            .video()
                            .map_err(|e| format!("Encoder error: {}", e))?;
                        let mut output = ffmpeg::format::output(&Path::new(&thumbnail_path))
                            .map_err(|e| format!("Output error: {}", e))?;
                        encoder.send_frame(&frame).map_err(|e| format!("Send frame error: {}", e))?;
                        encoder.flush().map_err(|e| format!("Flush error: {}", e))?;

                        // YOLOv11: —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ª–∏—Ü (–ø—Ä–∏–º–µ—Ä, –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –∫–æ–¥)
                        let person = Person {
                            id: Uuid::new_v4().to_string(),
                            name: "Unknown".to_string(),
                            thumbnail_path,
                            timestamps: vec![Timestamp {
                                start_time: timestamp,
                                end_time: timestamp + 5.0,
                            }],
                            subtitle_ids: vec![], // –°–≤—è–∑—å —Å —Å—É–±—Ç–∏—Ç—Ä–∞–º–∏ (–¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ)
                        };
                        people.push(person);
                    }
                }
            }
        }

        // –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        let progress = ((index + 1) as f32 / video_ids.len() as f32 * 100.0) as i32;
        app_handle.emit_all("identification_progress", progress).map_err(|e| format!("Emit error: {}", e))?;
    }

    Ok(PersonIdentificationResult { people })
}
```

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `main.rs`**:
   –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É.

```rust
use tauri::Builder;
mod script_generator;
mod montage_planner;
mod person_identification;

fn main() {
    tauri::Builder::default()
        .invoke_handler(tauri::generate_handler![
            script_generator::generate_script,
            montage_planner::analyze_videos,
            person_identification::identify_people
        ])
        .run(tauri::generate_context!())
        .expect("error while running tauri application");
}
```

### –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∞–Ω–∏–π
–ß—Ç–æ–±—ã –∞–Ω–∞–ª–∏–∑ –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª UI:
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `tokio::task::spawn_blocking` –¥–ª—è YOLOv11 –∏ `ffmpeg-rs`.
  ```rust
  use tokio::task::spawn_blocking;

  #[command]
  pub async fn identify_people(app_handle: tauri::AppHandle, video_ids: Vec<String>) -> Result<PersonIdentificationResult, String> {
      spawn_blocking(move || {
          // –ö–æ–¥ –∞–Ω–∞–ª–∏–∑–∞
      }).await.map_err(|e| format!("Task error: {}", e))?;
  }
  ```
- **–ü—Ä–æ–≥—Ä–µ—Å—Å**: –û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ `app_handle.emit_all` –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–π—Ç–µ –≤ UI (`progress` –≤ XState).
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –æ –ª—é–¥—è—Ö –≤ SQLite (`resources/`) —Å –ø–æ–ª—è–º–∏: `id`, `name`, `thumbnail_path`, `timestamps`, `subtitle_ids`.

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏
- **–° `timeline/`**: –î–∞–Ω–Ω—ã–µ –æ –ª—é–¥—è—Ö (`Person`) –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤.
- **–° `subtitles/`**: `subtitle_ids` —Å–≤—è–∑—ã–≤–∞–µ—Ç –ª—é–¥–µ–π —Å —Å—É–±—Ç–∏—Ç—Ä–∞–º–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Å–ø–∏–∫–µ—Ä–∞–º.
- **–° `montage-planner/`**: `Person` –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ `Fragment.people` –¥–ª—è —É—á–µ—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.
- **–° `script-generator/`**: –ò–º–µ–Ω–∞ –ª—é–¥–µ–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, "—Å—Ü–µ–Ω–∞ —Å –î–∂–æ–Ω–æ–º").
- **–° `media/`**: –°–∫—Ä–∏–Ω—à–æ—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `ffmpeg-rs`.

### –û—Ç–≤–µ—Ç –Ω–∞ –≤–∞—à –∑–∞–ø—Ä–æ—Å
–ú–æ–¥—É–ª—å **`person-identification/`** ‚Äî —Å–ª–µ–¥—É—é—â–∏–π –ª–æ–≥–∏—á–Ω—ã–π —à–∞–≥, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∏ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ª—é–¥–µ–π, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –≤—Ä–æ–¥–µ "—á–∞—â–µ –¥–æ–±–∞–≤–ª—è–π –î–∂–æ–Ω–∞" –≤ `script-generator/` –∏ `montage-planner/`. –Ø –ø—Ä–µ–¥–ª–æ–∂–∏–ª:
- **–°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö**: `Person` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –ª—é–¥—è—Ö —Å —Ç–∞–π–º–∫–æ–¥–∞–º–∏ –∏ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º–∏.
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: XState-–º–∞—à–∏–Ω–∞, –ø—Ä–æ–≤–∞–π–¥–µ—Ä, —Ö—É–∫ –∏ UI –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª–∏—Ü –∏ –≤–≤–æ–¥–∞ –∏–º–µ–Ω.
- **–ë—ç–∫–µ–Ω–¥**: Tauri-–∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ —Å YOLOv11 –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ SQLite.
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –°–≤—è–∑—å —Å `subtitles/`, `timeline/`, `montage-planner/` –∏ `script-generator/`.

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `scene-analyzer/` –¥–ª—è —É–≥–ª—É–±–ª–µ–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Å—Ü–µ–Ω (–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö YOLOv11, `ffmpeg-rs` –∏ —Å—É–±—Ç–∏—Ç—Ä–æ–≤), —á—Ç–æ–±—ã —É–ª—É—á—à–∏—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –≤ `montage-planner/`.

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, –º–æ–≥—É –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫–æ–¥ –¥–ª—è `scene-analyzer/` –∏–ª–∏ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å —á—Ç–æ-—Ç–æ –≤ `person-identification/` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å —Å—É–±—Ç–∏—Ç—Ä–∞–º–∏). –ù–∞–ø–∏—à–∏—Ç–µ, —á—Ç–æ –¥–∞–ª—å—à–µ! üöÄ
