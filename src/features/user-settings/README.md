# User Settings - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

## üìã –°—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- ‚úÖ **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ **–°–µ—Ä–≤–∏—Å—ã**: –ú–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –≥–æ—Ç–æ–≤—ã
- ‚úÖ **–•—É–∫–∏**: –•—É–∫ useUserSettings –≤—ã–Ω–µ—Å–µ–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- ‚úÖ **–¢–µ—Å—Ç—ã**: –ü–æ–∫—Ä—ã—Ç—ã —Ç–µ—Å—Ç–∞–º–∏
- ‚úÖ **–û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### ‚úÖ –ì–æ—Ç–æ–≤–æ

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- [x] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- [x] –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–∞–∫–µ—Ç–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (default, options, vertical, dual)
- [x] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- [x] –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ (Cmd+B)

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—É—Ç–µ–π
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É—Ç–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É—Ç–∏ –¥–ª—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –ø–ª–µ–µ—Ä–∞
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Ç–µ–π

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–µ–¥–∏–∞
- [x] –†–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ –≥—Ä–æ–º–∫–æ—Å—Ç–∏ –ø–ª–µ–µ—Ä–∞ (0-100)
- [x] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≥—Ä–æ–º–∫–æ—Å—Ç–∏

#### API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–∞ OpenAI
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–∞ Claude
- [x] –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π
- [x] –°–∫—Ä—ã—Ç–∏–µ –∫–ª—é—á–µ–π –≤ –ª–æ–≥–∞—Ö

#### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫
- [x] UserSettingsModal - –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- [x] –§–æ—Ä–º—ã –¥–ª—è –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- [x] –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞
- [x] –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **XState –º–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- **React Context** –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
- **Tauri Store** –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è
- **TypeScript** –¥–ª—è —Ç–∏–ø–∏–∑–∞—Ü–∏–∏

### –°–æ—Å—Ç–æ—è–Ω–∏–µ
```typescript
interface UserSettingsContext {
  activeTab: BrowserTab           // –ê–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞
  layoutMode: LayoutMode          // –ú–∞–∫–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
  screenshotsPath: string         // –ü—É—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
  playerScreenshotsPath: string   // –ü—É—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –ø–ª–µ–µ—Ä–∞
  playerVolume: number            // –ì—Ä–æ–º–∫–æ—Å—Ç—å –ø–ª–µ–µ—Ä–∞
  openAiApiKey: string           // API –∫–ª—é—á OpenAI
  claudeApiKey: string           // API –∫–ª—é—á Claude
  isBrowserVisible: boolean      // –í–∏–¥–∏–º–æ—Å—Ç—å –±—Ä–∞—É–∑–µ—Ä–∞
}
```

### –°–æ–±—ã—Ç–∏—è –º–∞—à–∏–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π
- `UPDATE_ACTIVE_TAB` - –°–º–µ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏
- `UPDATE_LAYOUT` - –°–º–µ–Ω–∞ –º–∞–∫–µ—Ç–∞
- `UPDATE_SCREENSHOTS_PATH` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—É—Ç–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤
- `UPDATE_PLAYER_SCREENSHOTS_PATH` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—É—Ç–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –ø–ª–µ–µ—Ä–∞
- `UPDATE_PLAYER_VOLUME` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
- `UPDATE_OPENAI_API_KEY` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ API –∫–ª—é—á–∞ OpenAI
- `UPDATE_CLAUDE_API_KEY` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ API –∫–ª—é—á–∞ Claude
- `TOGGLE_BROWSER_VISIBILITY` - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞

## üé£ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```typescript
import { useUserSettings } from '@/features/user-settings';

function MyComponent() {
  const {
    activeTab,
    layoutMode,
    playerVolume,
    handleTabChange,
    handleLayoutChange,
    handlePlayerVolumeChange
  } = useUserSettings();

  return (
    <div>
      <p>–ê–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞: {activeTab}</p>
      <p>–ú–∞–∫–µ—Ç: {layoutMode}</p>
      <p>–ì—Ä–æ–º–∫–æ—Å—Ç—å: {playerVolume}</p>
      
      <button onClick={() => handleTabChange('media')}>
        –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –º–µ–¥–∏–∞
      </button>
      
      <button onClick={() => handleLayoutChange('vertical')}>
        –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π –º–∞–∫–µ—Ç
      </button>
      
      <input
        type="range"
        min="0"
        max="100"
        value={playerVolume}
        onChange={(e) => handlePlayerVolumeChange(Number(e.target.value))}
      />
    </div>
  );
}
```

### –ü—Ä–æ–≤–∞–π–¥–µ—Ä
```typescript
import { UserSettingsProvider } from '@/features/user-settings';

function App() {
  return (
    <UserSettingsProvider>
      <MyComponent />
    </UserSettingsProvider>
  );
}
```

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

### MediaStudio
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `layoutMode` –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–∞–∫–µ—Ç–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –†–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–∞–∫–µ—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### Browser
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `activeTab` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `isBrowserVisible` –¥–ª—è –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è

### VideoPlayer
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `playerVolume` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `playerScreenshotsPath` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤

### AI Chat
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `openAiApiKey` –∏ `claudeApiKey` –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–π –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∑–∞–ø—Ä–æ—Å–æ–≤

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
bun test src/features/user-settings
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ
- –ú–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π: 100%
- –ü—Ä–æ–≤–∞–π–¥–µ—Ä: 95%
- –•—É–∫–∏: 100%
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: 90%

## üöÄ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫
- [ ] –ü—Ä–æ—Ñ–∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- [ ] –¢–µ–º—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- [ ] –î–µ–±–∞—É–Ω—Å –¥–ª—è —á–∞—Å—Ç—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è API –∫–ª—é—á–µ–π
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
