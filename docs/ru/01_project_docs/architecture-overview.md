# –û–ë–ó–û–† –ê–†–•–ò–¢–ï–ö–¢–£–†–´ TIMELINE STUDIO

## üèóÔ∏è –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

Timeline Studio –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, —Å–æ—á–µ—Ç–∞—é—â–µ–π –º–æ—â—å –Ω–∞—Ç–∏–≤–Ω—ã—Ö –¥–µ—Å–∫—Ç–æ–ø–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å —É–¥–æ–±—Å—Ç–≤–æ–º –≤–µ–±-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      Timeline Studio                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ      Frontend          ‚îÇ           Backend                  ‚îÇ
‚îÇ    (Next.js 15)        ‚îÇ         (Rust + Tauri)           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚Ä¢ React 19            ‚îÇ  ‚Ä¢ Video Compiler (FFmpeg)        ‚îÇ
‚îÇ  ‚Ä¢ XState v5           ‚îÇ  ‚Ä¢ GPU Acceleration               ‚îÇ
‚îÇ  ‚Ä¢ shadcn/ui           ‚îÇ  ‚Ä¢ Media Processing               ‚îÇ
‚îÇ  ‚Ä¢ Tailwind CSS v4     ‚îÇ  ‚Ä¢ Plugin System                  ‚îÇ
‚îÇ  ‚Ä¢ Feature-based       ‚îÇ  ‚Ä¢ Security Layer                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üé® Frontend –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Feature-based –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è

–ö–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤ `/src/features/` —è–≤–ª—è–µ—Ç—Å—è —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º –º–æ–¥—É–ª–µ–º:

```
src/features/
‚îú‚îÄ‚îÄ timeline/           # –û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ components/    # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ hooks/         # –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ services/      # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ XState –º–∞—à–∏–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ types/         # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ utils/         # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ __tests__/     # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ video-player/      # –í–∏–¥–µ–æ–ø–ª–µ–µ—Ä
‚îú‚îÄ‚îÄ media-studio/      # –ì–ª–∞–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ ai-chat/          # AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç
‚îî‚îÄ‚îÄ ...               # –î—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
```

### State Management

- **XState v5** –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏ (timeline, player, browser)
- **React Context** –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **React Query** –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **Local Storage** –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### UI –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **shadcn/ui** - –≥–æ—Ç–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ –±–∞–∑–µ Radix UI
- **Tailwind CSS v4** - —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Å—Ç–∏–ª–∏
- **CSS Variables** - —Ç–µ–º–∏–∑–∞—Ü–∏—è
- **Framer Motion** - –∞–Ω–∏–º–∞—Ü–∏–∏

## ‚öôÔ∏è Backend –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src-tauri/src/
‚îú‚îÄ‚îÄ core/              # –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ di/           # Dependency Injection
‚îÇ   ‚îú‚îÄ‚îÄ events/       # EventBus —Å–∏—Å—Ç–µ–º–∞
‚îÇ   ‚îú‚îÄ‚îÄ performance/  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é
‚îÇ   ‚îú‚îÄ‚îÄ plugins/      # –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ telemetry/    # –ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
‚îú‚îÄ‚îÄ security/          # –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
‚îÇ   ‚îú‚îÄ‚îÄ secure_storage.rs    # –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ oauth_handler.rs     # OAuth –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ api_validator.rs     # –í–∞–ª–∏–¥–∞—Ü–∏—è API –∫–ª—é—á–µ–π
‚îú‚îÄ‚îÄ media/             # –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏–∞
‚îÇ   ‚îú‚îÄ‚îÄ metadata.rs   # –ê–Ω–∞–ª–∏–∑ —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ ffmpeg.rs     # FFmpeg –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ preview.rs    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–≤—å—é
‚îú‚îÄ‚îÄ video_compiler/    # –ö–æ–º–ø–∏–ª—è—Ü–∏—è –≤–∏–¥–µ–æ
‚îÇ   ‚îú‚îÄ‚îÄ core/         # GPU, pipeline, –∫–æ–¥–µ–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ services/     # –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π
‚îÇ   ‚îî‚îÄ‚îÄ cache/        # LRU –∫–µ—à
‚îî‚îÄ‚îÄ recognition/       # AI —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
    ‚îî‚îÄ‚îÄ yolo_processor.rs  # YOLO –º–æ–¥–µ–ª–∏
```

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **Video Compiler** - —è–¥—Ä–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ –Ω–∞ FFmpeg
2. **GPU Service** - –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ (NVENC, QuickSync)
3. **Plugin System** - —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ –ø–ª–∞–≥–∏–Ω—ã
4. **Security Layer** - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ OAuth
5. **Media Pipeline** - –∫–æ–Ω–≤–µ–π–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–µ–¥–∏–∞

## üîå –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è Frontend ‚Üî Backend

### Tauri Commands

```rust
// Backend
#[tauri::command]
async fn process_video(path: String, options: VideoOptions) -> Result<VideoOutput> {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ
}

// Frontend
import { invoke } from '@tauri-apps/api/core';

const result = await invoke('process_video', {
    path: '/path/to/video.mp4',
    options: { format: 'mp4', quality: 'high' }
});
```

### Event System

```typescript
// Frontend –ø–æ–¥–ø–∏—Å–∫–∞
import { listen } from '@tauri-apps/api/event';

const unlisten = await listen('render-progress', (event) => {
    console.log('Progress:', event.payload.percent);
});

// Backend –æ—Ç–ø—Ä–∞–≤–∫–∞
window.emit("render-progress", ProgressPayload { percent: 75.0 });
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### API –∫–ª—é—á–∏
- –•—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º keychain (macOS), Credential Store (Windows), Secret Service (Linux)
- –®–∏—Ñ—Ä—É—é—Ç—Å—è AES-256 –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ

### OAuth —Ç–æ–∫–µ–Ω—ã
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PKCE flow –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –¢–æ–∫–µ–Ω—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ YouTube, TikTok, Vimeo, Telegram

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### Frontend –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- Code splitting –ø–æ –º–∞—Ä—à—Ä—É—Ç–∞–º
- Lazy loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –¥–æ—Ä–æ–≥–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤

### Backend –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- GPU —É—Å–∫–æ—Ä–µ–Ω–∏–µ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- LRU –∫–µ—à –¥–ª—è –ø—Ä–µ–≤—å—é
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ tokio
- Zero-copy –æ–ø–µ—Ä–∞—Ü–∏–∏ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Frontend
- **Vitest** –¥–ª—è unit —Ç–µ—Å—Ç–æ–≤
- **Testing Library** –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Playwright** –¥–ª—è E2E —Ç–µ—Å—Ç–æ–≤
- **80%+** –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞

### Backend
- **Cargo test** –¥–ª—è unit —Ç–µ—Å—Ç–æ–≤
- **Integration tests** –¥–ª—è –∫–æ–º–∞–Ω–¥
- **Mockall** –¥–ª—è –º–æ–∫–æ–≤
- **Proptest** –¥–ª—è property-based —Ç–µ—Å—Ç–æ–≤

## üì¶ –°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏

### Development
```bash
bun run tauri dev  # Hot reload –¥–ª—è frontend –∏ backend
```

### Production
```bash
bun run tauri build  # –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞
```

### –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã
- **Windows**: MSI/NSIS –∏–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä
- **macOS**: DMG/App bundle
- **Linux**: AppImage/deb/rpm

---

*–î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ —Ä–∞–∑–¥–µ–ª–∞—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã*