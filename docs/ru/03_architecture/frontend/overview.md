# Frontend –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

[‚Üê –ù–∞–∑–∞–¥ –∫ —Ä–∞–∑–¥–µ–ª—É](README.md) | [‚Üê –ö –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](../README.md)

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π](#–æ–±–∑–æ—Ä-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ–º)
- [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è](#–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è)
- [–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](#–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)

## üõ†Ô∏è –û–±–∑–æ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

### –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–µ–∫
- **React 19** - UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Concurrent Features
- **Next.js 15** - React —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å App Router
- **TypeScript 5.3** - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **Tailwind CSS v4** - utility-first CSS —Ñ—Ä–µ–π–º–≤–æ—Ä–∫

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **XState v5** - –∫–æ–Ω–µ—á–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç—ã –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏
- **React Context** - –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **React Query** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- **shadcn/ui** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ –±–∞–∑–µ Radix UI
- **Framer Motion** - –∞–Ω–∏–º–∞—Ü–∏–∏
- **React DnD** - drag and drop

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```
src/
‚îú‚îÄ‚îÄ app/                    # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx         # –ö–æ—Ä–Ω–µ–≤–æ–π layout
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx          # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îî‚îÄ‚îÄ providers.tsx     # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
‚îÇ
‚îú‚îÄ‚îÄ features/              # –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ timeline/         # –û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ video-player/     # –í–∏–¥–µ–æ –ø–ª–µ–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ ...              # –î—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏
‚îÇ
‚îú‚îÄ‚îÄ components/           # –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ ui/              # –ë–∞–∑–æ–≤—ã–µ UI —ç–ª–µ–º–µ–Ω—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ lib/                 # –£—Ç–∏–ª–∏—Ç—ã
‚îî‚îÄ‚îÄ styles/             # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
```

## üîÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

### XState –º–∞—à–∏–Ω—ã

Timeline Studio –∏—Å–ø–æ–ª—å–∑—É–µ—Ç XState –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏:

```typescript
// –ü—Ä–∏–º–µ—Ä: Timeline State Machine
const timelineMachine = setup({
  types: {} as {
    context: TimelineContext
    events: TimelineEvent
  },
  actions: {
    addClip: ({ context, event }) => {
      // –õ–æ–≥–∏–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–ø–∞
    },
    removeClip: ({ context, event }) => {
      // –õ–æ–≥–∏–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –∫–ª–∏–ø–∞
    }
  }
}).createMachine({
  id: 'timeline',
  initial: 'idle',
  context: {
    clips: [],
    selectedClip: null,
    playhead: 0
  },
  states: {
    idle: {
      on: {
        ADD_CLIP: {
          actions: 'addClip',
          target: 'editing'
        }
      }
    },
    editing: {
      on: {
        SAVE: 'saving',
        CANCEL: 'idle'
      }
    },
    saving: {
      invoke: {
        src: 'saveProject',
        onDone: 'idle',
        onError: 'error'
      }
    },
    error: {
      on: {
        RETRY: 'saving',
        CANCEL: 'idle'
      }
    }
  }
})
```

### Context –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

–ò–µ—Ä–∞—Ä—Ö–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:

```tsx
<ThemeProvider>
  <I18nProvider>
    <AppSettingsProvider>
      <UserSettingsProvider>
        <ModalProvider>
          <ProjectSettingsProvider>
            <ResourcesProvider>
              <TimelineProvider>
                <App />
              </TimelineProvider>
            </ResourcesProvider>
          </ProjectSettingsProvider>
        </ModalProvider>
      </UserSettingsProvider>
    </AppSettingsProvider>
  </I18nProvider>
</ThemeProvider>
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Ä–µ–Ω–¥–µ—Ä–æ–≤

```typescript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ useMemo –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
const processedClips = useMemo(() => {
  return clips
    .filter(clip => clip.isVisible)
    .sort((a, b) => a.startTime - b.startTime)
    .map(clip => processClip(clip))
}, [clips])

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ React.memo –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
const ClipComponent = React.memo(({ clip, onEdit }) => {
  return <div>...</div>
}, (prevProps, nextProps) => {
  return prevProps.clip.id === nextProps.clip.id &&
         prevProps.clip.version === nextProps.clip.version
})
```

## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

1. **Feature-based —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
2. **–ö–æ–º–ø–æ–∑–∏—Ü–∏—è** - —Å–ª–æ–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –∏–∑ –ø—Ä–æ—Å—Ç—ã—Ö
3. **Single Responsibility** - –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–¥–Ω—É –∑–∞–¥–∞—á—É
4. **Props Interface** - —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –ø—Ä–æ–ø—Å–æ–≤

### –ü—Ä–∏–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```typescript
// features/timeline/components/timeline-clip.tsx
interface TimelineClipProps {
  clip: Clip
  isSelected: boolean
  onSelect: (clipId: string) => void
  onEdit: (clipId: string) => void
  onDelete: (clipId: string) => void
}

export const TimelineClip: FC<TimelineClipProps> = ({
  clip,
  isSelected,
  onSelect,
  onEdit,
  onDelete
}) => {
  const { t } = useTranslation()
  const [isDragging, setIsDragging] = useState(false)
  
  const handleDragStart = useCallback((e: DragEvent) => {
    setIsDragging(true)
    e.dataTransfer.setData('clipId', clip.id)
  }, [clip.id])

  return (
    <div
      className={cn(
        "timeline-clip",
        isSelected && "timeline-clip--selected",
        isDragging && "timeline-clip--dragging"
      )}
      draggable
      onDragStart={handleDragStart}
      onClick={() => onSelect(clip.id)}
    >
      <ClipThumbnail src={clip.thumbnail} />
      <ClipDuration duration={clip.duration} />
      <ClipActions 
        onEdit={() => onEdit(clip.id)}
        onDelete={() => onDelete(clip.id)}
      />
    </div>
  )
}
```

## üõ£Ô∏è –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

Timeline Studio –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Next.js App Router:

```
app/
‚îú‚îÄ‚îÄ layout.tsx              # –û—Å–Ω–æ–≤–Ω–æ–π layout
‚îú‚îÄ‚îÄ page.tsx               # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (—Ä–µ–¥–∞–∫—Ç–æ—Ä)
‚îú‚îÄ‚îÄ projects/
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx          # –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ [id]/
‚îÇ       ‚îî‚îÄ‚îÄ page.tsx      # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ settings/
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx          # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îî‚îÄ‚îÄ export/
    ‚îî‚îÄ‚îÄ page.tsx          # –≠–∫—Å–ø–æ—Ä—Ç
```

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 1. –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤

```typescript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ react-window –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
import { FixedSizeList } from 'react-window'

const MediaList = ({ files }) => (
  <FixedSizeList
    height={600}
    itemCount={files.length}
    itemSize={80}
    width="100%"
  >
    {({ index, style }) => (
      <MediaItem 
        key={files[index].id}
        file={files[index]} 
        style={style} 
      />
    )}
  </FixedSizeList>
)
```

### 2. –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

```typescript
// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
const EffectsPanel = lazy(() => import('./effects-panel'))
const RecognitionPanel = lazy(() => import('./recognition-panel'))

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å Suspense
<Suspense fallback={<LoadingSpinner />}>
  <EffectsPanel />
</Suspense>
```

### 3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –≤–∏–¥–µ–æ

```typescript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ requestAnimationFrame –¥–ª—è –ø–ª–∞–≤–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏
const animatePlayhead = useCallback((timestamp: number) => {
  if (!isPlaying) return
  
  const elapsed = timestamp - lastTimestamp
  const newPosition = playheadPosition + (elapsed * playbackSpeed)
  
  setPlayheadPosition(newPosition)
  requestAnimationFrame(animatePlayhead)
}, [isPlaying, playheadPosition, playbackSpeed])
```

### 4. Web Workers –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

```typescript
// worker.ts
self.addEventListener('message', (e) => {
  const { clips, effects } = e.data
  const processed = processClipsWithEffects(clips, effects)
  self.postMessage({ processed })
})

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
const worker = useMemo(() => new Worker('./worker.ts'), [])

useEffect(() => {
  worker.postMessage({ clips, effects })
  worker.onmessage = (e) => {
    setProcessedClips(e.data.processed)
  }
}, [clips, effects])
```

## üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

### Breakpoints
```css
/* Tailwind CSS v4 breakpoints */
sm: 640px   /* –ü–ª–∞–Ω—à–µ—Ç—ã */
md: 768px   /* –ú–∞–ª–µ–Ω—å–∫–∏–µ –Ω–æ—É—Ç–±—É–∫–∏ */
lg: 1024px  /* –î–µ—Å–∫—Ç–æ–ø—ã */
xl: 1280px  /* –ë–æ–ª—å—à–∏–µ —ç–∫—Ä–∞–Ω—ã */
2xl: 1536px /* –û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ —ç–∫—Ä–∞–Ω—ã */
```

### Responsive –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
```tsx
<div className="
  grid 
  grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4
  gap-4 sm:gap-6 lg:gap-8
">
  {items.map(item => <ItemCard key={item.id} {...item} />)}
</div>
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å Frontend

1. **Content Security Policy** - —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
2. **XSS –∑–∞—â–∏—Ç–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ React
3. **CORS** - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Tauri IPC
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –Ω–∞ —É—Ä–æ–≤–Ω–µ TypeScript –∏ runtime

---

[‚Üê –ù–∞–∑–∞–¥ –∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ](README.md) | [–î–∞–ª–µ–µ: Backend –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚Üí](backend.md)