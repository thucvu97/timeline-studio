# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –≤ Timeline Studio

[‚Üê –ù–∞–∑–∞–¥ –∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ](README.md)

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
- [XState –º–∞—à–∏–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π](#xstate-–º–∞—à–∏–Ω—ã-—Å–æ—Å—Ç–æ—è–Ω–∏–π)
- [React –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã](#react-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã)
- [–ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)

## üéØ –û–±–∑–æ—Ä

Timeline Studio –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–±–∏–Ω–∞—Ü–∏—é XState v5 –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –∏ React Context API –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏—è–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º.

## ü§ñ XState –º–∞—à–∏–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π

### 1. **AI Chat Machine**
üìç [`src/features/ai-chat/services/chat-machine.ts`](../../src/features/ai-chat/services/chat-machine.ts)

–£–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º AI —á–∞—Ç–∞: —Å–æ–æ–±—â–µ–Ω–∏—è, –º–æ–¥–µ–ª–∏, –∫–æ–Ω—Ç–µ–∫—Å—Ç, –∑–∞–≥—Ä—É–∑–∫–∞.

### 2. **App Settings Machine**
üìç [`src/features/app-state/services/app-settings-machine.ts`](../../src/features/app-state/services/app-settings-machine.ts)

–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: —è–∑—ã–∫, —Ç–µ–º–∞, –ø—É—Ç–∏, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è.

### 3. **Browser State Machine**
üìç [`src/features/browser/services/browser-state-machine.ts`](../../src/features/browser/services/browser-state-machine.ts)

–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞: –≤–∫–ª–∞–¥–∫–∏, –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã, –Ω–∞–≤–∏–≥–∞—Ü–∏—è.

### 4. **Modal Machine**
üìç [`src/features/modals/services/modal-machine.ts`](../../src/features/modals/services/modal-machine.ts)

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏: –æ—Ç–∫—Ä—ã—Ç–∏–µ, –∑–∞–∫—Ä—ã—Ç–∏–µ, —Å—Ç–µ–∫ –º–æ–¥–∞–ª–æ–∫.

### 5. **Project Settings Machine**
üìç [`src/features/project-settings/services/project-settings-machine.ts`](../../src/features/project-settings/services/project-settings-machine.ts)

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞: —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ, FPS, –∞—É–¥–∏–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

### 6. **Resources Machine**
üìç [`src/features/resources/services/resources-machine.ts`](../../src/features/resources/services/resources-machine.ts)

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏: —ç—Ñ—Ñ–µ–∫—Ç—ã, —Ñ–∏–ª—å—Ç—Ä—ã, –ø–µ—Ä–µ—Ö–æ–¥—ã, —à–∞–±–ª–æ–Ω—ã.

### 7. **Timeline Machine**
üìç [`src/features/timeline/services/timeline-machine.ts`](../../src/features/timeline/services/timeline-machine.ts)

–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: —Ç—Ä–µ–∫–∏, –∫–ª–∏–ø—ã, –≤—ã–¥–µ–ª–µ–Ω–∏–µ, –∏—Å—Ç–æ—Ä–∏—è.

### 8. **User Settings Machine**
üìç [`src/features/user-settings/services/user-settings-machine.ts`](../../src/features/user-settings/services/user-settings-machine.ts)

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è, API –∫–ª—é—á–∏, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

### 9. **Player Machine**
üìç [`src/features/video-player/services/player-machine.ts`](../../src/features/video-player/services/player-machine.ts)

–°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∏–¥–µ–æ –ø–ª–µ–µ—Ä–∞: –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ, –ø–æ–∑–∏—Ü–∏—è, –≥—Ä–æ–º–∫–æ—Å—Ç—å, –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º.

## üîå React –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π

#### 1. **AI Chat Provider**
üìç [`src/features/ai-chat/services/chat-provider.tsx`](../../src/features/ai-chat/services/chat-provider.tsx)

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ chat-machine –∏ –º–µ—Ç–æ–¥–∞–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–∞—Ç–æ–º.

#### 2. **App Settings Provider**
üìç [`src/features/app-state/services/app-settings-provider.tsx`](../../src/features/app-state/services/app-settings-provider.tsx)

–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

#### 3. **Browser State Provider**
üìç [`src/features/browser/services/browser-state-provider.tsx`](../../src/features/browser/services/browser-state-provider.tsx)

–ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–∞–π–ª–æ–≤–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞.

#### 4. **Modal Provider**
üìç [`src/features/modals/services/modal-provider.tsx`](../../src/features/modals/services/modal-provider.tsx)

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç.

#### 5. **Project Settings Provider**
üìç [`src/features/project-settings/services/project-settings-provider.tsx`](../../src/features/project-settings/services/project-settings-provider.tsx)

–ö–æ–Ω—Ç–µ–∫—Å—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

#### 6. **Resources Provider**
üìç [`src/features/resources/services/resources-provider.tsx`](../../src/features/resources/services/resources-provider.tsx)

–î–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å–∞–º –ø—Ä–æ–µ–∫—Ç–∞ (—ç—Ñ—Ñ–µ–∫—Ç—ã, —Ñ–∏–ª—å—Ç—Ä—ã –∏ —Ç.–¥.).

#### 7. **Timeline Provider**
üìç [`src/features/timeline/services/timeline-provider.tsx`](../../src/features/timeline/services/timeline-provider.tsx)

–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è timeline —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.

#### 8. **User Settings Provider**
üìç [`src/features/user-settings/services/user-settings-provider.tsx`](../../src/features/user-settings/services/user-settings-provider.tsx)

–ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫.

#### 9. **Player Provider**
üìç [`src/features/video-player/services/player-provider.tsx`](../../src/features/video-player/services/player-provider.tsx)

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –≤–∏–¥–µ–æ –ø–ª–µ–µ—Ä–∞.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

#### 10. **Keyboard Shortcuts Provider**
üìç [`src/features/keyboard-shortcuts/services/shortcuts-provider.tsx`](../../src/features/keyboard-shortcuts/services/shortcuts-provider.tsx)

–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä—è—á–∏–º–∏ –∫–ª–∞–≤–∏—à–∞–º–∏ (–±–µ–∑ XState –º–∞—à–∏–Ω—ã).

#### 11. **Drag-Drop Provider**
üìç [`src/features/timeline/components/drag-drop-provider.tsx`](../../src/features/timeline/components/drag-drop-provider.tsx)

–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è drag-and-drop –≤ timeline.

#### 12. **I18n Provider**
üìç [`src/i18n/services/i18n-provider.tsx`](../../src/i18n/services/i18n-provider.tsx)

–ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

#### 13. **Media Studio Providers**
üìç [`src/features/media-studio/services/providers.tsx`](../../src/features/media-studio/services/providers.tsx)

–û–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–ª—è Media Studio.

#### 14. **Tauri Mock Provider**
üìç [`src/features/media-studio/services/tauri-mock-provider.tsx`](../../src/features/media-studio/services/tauri-mock-provider.tsx)

Mock –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ Tauri.

## üìê –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ XState –º–∞—à–∏–Ω—ã

```typescript
// timeline-machine.ts
import { setup, assign } from 'xstate'

export const timelineMachine = setup({
  types: {} as {
    context: TimelineContext
    events: TimelineEvents
  },
  actions: {
    // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ actions
  },
  guards: {
    // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ guards
  }
}).createMachine({
  id: 'timeline',
  initial: 'idle',
  context: {
    // –ù–∞—á–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
  },
  states: {
    // –°–æ—Å—Ç–æ—è–Ω–∏—è –º–∞—à–∏–Ω—ã
  }
})
```

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

```typescript
// timeline-provider.tsx
import { createActorContext } from '@xstate/react'
import { timelineMachine } from './timeline-machine'

export const TimelineContext = createActorContext(timelineMachine)

export function TimelineProvider({ children }: { children: React.ReactNode }) {
  return (
    <TimelineContext.Provider>
      {children}
    </TimelineContext.Provider>
  )
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

```typescript
// component.tsx
import { useTimeline } from '@/features/timeline/hooks/use-timeline'

export function MyComponent() {
  const { state, send } = useTimeline()
  
  return (
    <div>
      <p>Current state: {state.value}</p>
      <button onClick={() => send({ type: 'SOME_EVENT' })}>
        Trigger Event
      </button>
    </div>
  )
}
```

## üîó –°–≤—è–∑–∏ –º–µ–∂–¥—É –º–∞—à–∏–Ω–∞–º–∏

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–∞—à–∏–Ω—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º:

- **Timeline Machine** ‚Üî **Player Machine**: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- **Browser Machine** ‚Üí **Timeline Machine**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤
- **Project Settings** ‚Üí **Timeline Machine**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
- **Modal Machine** ‚Üê **–í—Å–µ –º–∞—à–∏–Ω—ã**: –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [XState v5 –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://stately.ai/docs)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ XState –º–∞—à–∏–Ω](../05-development/testing.md#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-xstate)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ frontend](frontend.md)

---

[‚Üê –ù–∞–∑–∞–¥ –∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ](README.md) | [–î–∞–ª–µ–µ: –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ ‚Üí](communication.md)