# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ Browser Adapter

**–°—Ç–∞—Ç—É—Å:** üöß –í –ø—Ä–æ—Ü–µ—Å—Å–µ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –°—Ä–µ–¥–Ω–∏–π  
**–ù–∞—á–∞–ª–æ:** 24 –∏—é–Ω—è 2025  
**–û–∂–∏–¥–∞–µ–º–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ:** 30 –∏—é–Ω—è 2025

## –û–ø–∏—Å–∞–Ω–∏–µ

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å —É—Ç–µ—á–∫–∞–º–∏ –ø–∞–º—è—Ç–∏ –∏ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –≤ —Ç–µ—Å—Ç–∞—Ö –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ –±—Ä–∞—É–∑–µ—Ä–∞. –¢–µ—Å—Ç—ã –≤—ã–∑—ã–≤–∞—é—Ç –æ—à–∏–±–∫—É "JavaScript heap out of memory" –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ.

## –¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `use-music-adapter.test.tsx` (8 —Ç–µ—Å—Ç–æ–≤)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `media-adapter.test.tsx` (14 —Ç–µ—Å—Ç–æ–≤)
- –ò–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### üöß –í –ø—Ä–æ—Ü–µ—Å—Å–µ
- –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
- –ü–æ–∏—Å–∫ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### ‚ùå –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ
- `use-effects-adapter.test.tsx` - —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `use-filters-adapter.test.tsx` - —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `use-style-templates-adapter.test.tsx`
- `use-subtitles-adapter.test.tsx`
- `use-templates-adapter.test.tsx`
- `use-transitions-adapter.test.tsx`

## –ü—Ä–æ–±–ª–µ–º—ã

### 1. –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ê–¥–∞–ø—Ç–µ—Ä—ã –∫–æ—Å–≤–µ–Ω–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç `media-studio/services/providers.tsx`
- –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã —Ç—Ä–µ–±—É—é—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –°–æ–∑–¥–∞–µ—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è —Ä–µ–∫—É—Ä—Å–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥—É–ª–µ–π

### 2. –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏
- Worker –ø—Ä–æ—Ü–µ—Å—Å—ã Vitest –ø–∞–¥–∞—é—Ç —Å "Channel closed"
- JavaScript heap –∏—Å—á–µ—Ä–ø—ã–≤–∞–µ—Ç—Å—è –¥–∞–∂–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –º–æ–∫–∞–º–∏

## –†–µ—à–µ–Ω–∏—è

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)
1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö**
   - `isLoading` ‚Üí `loading` –≤ DataResult
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π (`startTime`, `streams`)
   - –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ favoriteType

2. **–í—Ä–µ–º–µ–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤**
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –≤ exclude —Å–ø–∏—Å–æ–∫ –≤ `vitest.config.ts`
   - CI/CD –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (—Ç—Ä–µ–±—É—é—Ç—Å—è)
1. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**
   - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∏ –∞–¥–∞–ø—Ç–µ—Ä–æ–≤
   - –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - –°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤
   - –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - Tree-shaking –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞

3. **–£–ª—É—á—à–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã**
   - –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–∫–æ–≤
   - –ò–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏

## –ó–∞–¥–∞—á–∏

- [ ] –°–æ–∑–¥–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- [ ] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è 6 —Ç–µ—Å—Ç–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏ –≤ CI
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `/docs-ru/10-known-issues/test-memory-issues.md`
- `/vitest.config.ts`
- `/src/features/browser/__tests__/adapters/*.test.tsx`
- `/src/test/test-utils.tsx`

## –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- [ ] –í—Å–µ 8 browser adapter —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç–µ—Å—Ç–æ–≤
- [ ] –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ < 1 –º–∏–Ω—É—Ç—ã
- [ ] –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤ CI/CD